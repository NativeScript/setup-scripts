branches:
  only:
    - master
matrix:
  include:
    - stage: "Build and Test"
      os: windows
      language: node_js
      node_js:
        - "10"
      script:
        - powershell.exe -ExecutionPolicy Bypass -noexit -file "c:\Git\setup-scripts\native-script.ps1" "--silentMode"
        - npm i -g nativescript
        - tns doctor
    - os: osx
      env:
        - BuildiOS="12.1"
        - Xcode="10.1"
      osx_image: xcode10.1
      language: node_js
      node_js: "10"
      script:
        - sudo ruby native-script.rb -- --silentMode
        - npm i -g nativescript
        - tns doctor